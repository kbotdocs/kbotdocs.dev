import {openGraph} from "@/constants/metadata";

export const metadata = {
    metadataBase: new URL("https://kbotdocs.dev"),
    title: "/decrypt - Iris",
    openGraph: {
        ...openGraph,
        title: "/decrypt - Iris"
    }
}

<Section>
    # /decrypt

    메시지를 복호화합니다.

    <Table>
        <colgroup>
            <col width={"200px"}/>
            <col />
        </colgroup>
        <Tbody>
            <Tr>
                <Td><span className={"text-sm"}>**엔드포인트**</span></Td>
                <Td>
                    <Endpoint method={"POST"}>`/decrypt`</Endpoint>
                </Td>
            </Tr>
            <Tr>
                <Td><span className={"text-sm"}>**Content-Type**</span></Td>
                <Td>
                    `application/json`
                </Td>
            </Tr>
        </Tbody>
    </Table>
</Section>
<Section>
    ## 요청

    <Section>
        ### 본문

        ~~~json
        {
          "enc": [ENCRYPTION_TYPE],
          "b64_ciphertext": "[BASE64_ENCODED_CIPHERTEXT]",
          "user_id": [USER_ID]
        }
        ~~~
        <Dl>
            <Dt>`enc`</Dt>
            <Dd>
                암호화 유형입니다. 데이터베이스에서 가져온 정수입니다.
            </Dd>
            <Dt>`b64_ciphertext`</Dt>
            <Dd>
                Base64 인코딩된 암호화 메시지입니다.
            </Dd>
            <Dt>`user_id`</Dt>
            <Dd>
                (선택 사항) 사용자 ID입니다. 기본값은 `config.json`의 `bot_id`입니다.
            </Dd>
        </Dl>
    </Section>
    <Section>
        ### 예제

        ~~~bash
        curl -X POST -H "Content-Type: application/json" -d '{"enc": 0, "b64_ciphertext": "[ENCRYPTED_MESSAGE_BASE64]", "user_id": 1234567890}' http://[YOUR_DEVICE_IP]:[bot_http_port]/decrypt
        ~~~
    </Section>
</Section>
<Section>
    ## 응답

    ~~~json
    {
      "plain_text": "[DECRYPTED_MESSAGE_TEXT]"
    }
    ~~~
</Section>